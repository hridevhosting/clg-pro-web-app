{"ast":null,"code":"import { LoginDetails } from 'src/app/shared/modals/login';\nimport { NewUser } from 'src/app/shared/modals/NewUser';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"figure\");\n    i0.ɵɵelement(4, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"h2\", 6);\n    i0.ɵɵtext(7, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 7);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(9, \"svg\", 8);\n    i0.ɵɵelement(10, \"path\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(11, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.loginDetails.UserName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 11)(13, \"label\", 12);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 8);\n    i0.ɵɵelement(15, \"path\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(16, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loginDetails.Password = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 15)(18, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.loginIn());\n    });\n    i0.ɵɵelementStart(19, \"strong\");\n    i0.ɵɵtext(20, \"Login\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 15)(22, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.isExistingUser = false);\n    });\n    i0.ɵɵelementStart(23, \"strong\");\n    i0.ɵɵtext(24, \"Create New User\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.loginDetails.UserName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.loginDetails.Password);\n  }\n}\nfunction LoginComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"figure\");\n    i0.ɵɵelement(4, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 11)(7, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_1_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.isExistingUser = true);\n    });\n    i0.ɵɵtext(8, \"Back to Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h2\", 6);\n    i0.ɵɵtext(10, \"Create New User\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"label\", 20)(12, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.newUser.FirstName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"label\", 20)(14, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.newUser.LastName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"label\", 20)(16, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newUser.EmailAddress = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 11)(18, \"label\", 12)(19, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newUser.Password = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_1_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.createNewUser());\n    });\n    i0.ɵɵelementStart(22, \"strong\");\n    i0.ɵɵtext(23, \"Create\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.FirstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.LastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.EmailAddress);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.Password);\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(_authServices, _router) {\n      this._authServices = _authServices;\n      this._router = _router;\n      this.loginDetails = new LoginDetails();\n      this.isExistingUser = true;\n      this.newUser = new NewUser();\n      this.userList = [];\n    }\n    ngOnInit() {\n      this.getUserList();\n    }\n    loginIn() {\n      if (this.userList.length) {\n        for (let i = 0; i < this.userList.length; i++) {\n          if (this.userList[i].EmailAddress.toLowerCase() == this.loginDetails.UserName.toLowerCase() && this.userList[i].Password == this.loginDetails.Password) {\n            localStorage.setItem('user', JSON.stringify(this.userList[i]));\n            this._router.navigate(['dashboard']);\n          }\n          ;\n        }\n      } else {\n        alert('Please create user first.');\n        this.isExistingUser = false;\n      }\n    }\n    createNewUser() {\n      let _date = new Date();\n      if (!this.newUser.FirstName) {\n        alert('Please enter firstname!');\n        return null;\n      }\n      if (!this.newUser.LastName) {\n        alert('Please enter lastname!');\n        return null;\n      }\n      if (!this.newUser.EmailAddress) {\n        alert('Please enter email address!');\n        return null;\n      }\n      if (!this.newUser.Password) {\n        alert('Please enter password!');\n        return null;\n      }\n      if (this.newUser.FirstName && this.newUser.LastName && this.newUser.EmailAddress && this.newUser.Password) {\n        localStorage.setItem('createdUser_' + _date, JSON.stringify(this.newUser));\n        this.isExistingUser = false;\n        this.getUserList();\n        alert('User has been created, Please login now.');\n        return null;\n      }\n      return null;\n    }\n    getUserList() {\n      let _userList = localStorage;\n      if (_userList.length) {\n        debugger;\n        for (let i = 0; i < localStorage.length; i++) {\n          let _key = localStorage.key(i);\n          if (_key?.toLowerCase().includes('createduser')) {\n            let _userDetails = localStorage.getItem(_key);\n            if (_userDetails) {\n              _userDetails = JSON.parse(_userDetails);\n              this.userList.push(_userDetails);\n            }\n          }\n        }\n        console.log(this.userList);\n      }\n    }\n    static {\n      this.ɵfac = function LoginComponent_Factory(t) {\n        return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginComponent,\n        selectors: [[\"app-login\"]],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"container mx-auto\", 4, \"ngIf\"], [1, \"container\", \"mx-auto\"], [1, \"flex\", \"justify-center\", \"items-center\", 2, \"height\", \"99dvh\"], [1, \"card\", \"lg:card-side\", \"bg-base-100\", \"shadow-xl\"], [\"src\", \"assets/images/icon.png\", \"alt\", \"Album\", 2, \"height\", \"500px !important\"], [1, \"card-body\"], [1, \"card-title\", \"font-extrabold\"], [1, \"input\", \"input-bordered\", \"flex\", \"items-center\", \"gap-2\", \"mt-10\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 16 16\", \"fill\", \"currentColor\", 1, \"h-4\", \"w-4\", \"opacity-70\"], [\"d\", \"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\"], [\"type\", \"text\", \"placeholder\", \"Email\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"flex-col\"], [1, \"input\", \"input-bordered\", \"flex\", \"items-center\", \"gap-2\"], [\"fill-rule\", \"evenodd\", \"d\", \"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z\", \"clip-rule\", \"evenodd\"], [\"type\", \"password\", \"value\", \"\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"], [1, \"card-actions\", \"justify-center\", \"mt-10\"], [1, \"btn\", \"btn-success\", \"text-white\", 3, \"click\"], [1, \"btn\", \"btn-primary\", \"text-white\", 3, \"click\"], [\"src\", \"https://img.daisyui.com/images/stock/photo-1494232410401-ad00d5433cfa.webp\", \"alt\", \"Album\"], [2, \"cursor\", \"pointer\", \"color\", \"red\", 3, \"click\"], [1, \"input\", \"input-bordered\", \"flex\", \"items-center\", \"gap-2\", \"mt-4\"], [\"type\", \"text\", \"placeholder\", \"First Name\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Last Name\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"]],\n        template: function LoginComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, LoginComponent_div_0_Template, 25, 2, \"div\", 0);\n            i0.ɵɵtemplate(1, LoginComponent_div_1_Template, 24, 4, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.isExistingUser);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isExistingUser);\n          }\n        },\n        dependencies: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.RequiredValidator, i4.NgModel]\n      });\n    }\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}