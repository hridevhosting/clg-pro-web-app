{"ast":null,"code":"import { LoginDetails } from 'src/app/shared/modals/login';\nimport { NewUser } from 'src/app/shared/modals/NewUser';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"figure\");\n    i0.ɵɵelement(4, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"h2\", 6);\n    i0.ɵɵtext(7, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 7);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(9, \"svg\", 8);\n    i0.ɵɵelement(10, \"path\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(11, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.loginDetails.UserName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 11)(13, \"label\", 12);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 8);\n    i0.ɵɵelement(15, \"path\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(16, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_0_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loginDetails.Password = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 15)(18, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.loginIn());\n    });\n    i0.ɵɵelementStart(19, \"strong\");\n    i0.ɵɵtext(20, \"Login\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 15)(22, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_0_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.isExistingUser = false);\n    });\n    i0.ɵɵelementStart(23, \"strong\");\n    i0.ɵɵtext(24, \"Create New User\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.loginDetails.UserName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.loginDetails.Password);\n  }\n}\nfunction LoginComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"figure\");\n    i0.ɵɵelement(4, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 11)(7, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_1_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.isExistingUser = true);\n    });\n    i0.ɵɵtext(8, \"Back to Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h2\", 6);\n    i0.ɵɵtext(10, \"Create New User\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"label\", 20)(12, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.newUser.FirstName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"label\", 20)(14, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.newUser.LastName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"label\", 20)(16, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newUser.EmailAddress = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 11)(18, \"label\", 12)(19, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_1_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newUser.Password = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_1_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.createNewUser());\n    });\n    i0.ɵɵelementStart(22, \"strong\");\n    i0.ɵɵtext(23, \"Create\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.FirstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.LastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.EmailAddress);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newUser.Password);\n  }\n}\nexport class LoginComponent {\n  constructor(_authServices, _router) {\n    this._authServices = _authServices;\n    this._router = _router;\n    this.loginDetails = new LoginDetails();\n    this.isExistingUser = true;\n    this.newUser = new NewUser();\n    this.userList = [];\n  }\n  ngOnInit() {\n    this.getUserList();\n  }\n  loginIn() {\n    if (this.userList.length) {\n      for (let i = 0; i < this.userList.length; i++) {\n        if (this.userList[i].EmailAddress.toLowerCase() == this.loginDetails.UserName.toLowerCase() && this.userList[i].Password == this.loginDetails.Password) {\n          localStorage.setItem('user', JSON.stringify(this.userList[i]));\n          this._router.navigate(['dashboard']);\n        }\n        ;\n      }\n    } else {\n      alert('Please create user first.');\n      this.isExistingUser = false;\n    }\n  }\n  createNewUser() {\n    let _date = new Date();\n    if (!this.newUser.FirstName) {\n      alert('Please enter firstname!');\n      return null;\n    }\n    if (!this.newUser.LastName) {\n      alert('Please enter lastname!');\n      return null;\n    }\n    if (!this.newUser.EmailAddress) {\n      alert('Please enter email address!');\n      return null;\n    }\n    if (!this.newUser.Password) {\n      alert('Please enter password!');\n      return null;\n    }\n    if (this.newUser.FirstName && this.newUser.LastName && this.newUser.EmailAddress && this.newUser.Password) {\n      localStorage.setItem('createdUser_' + _date, JSON.stringify(this.newUser));\n      this.isExistingUser = false;\n      this.getUserList();\n      alert('User has been created, Please login now.');\n      return null;\n    }\n    return null;\n  }\n  getUserList() {\n    let _userList = localStorage;\n    if (_userList.length) {\n      debugger;\n      for (let i = 0; i < localStorage.length; i++) {\n        let _key = localStorage.key(i);\n        if (_key?.toLowerCase().includes('createduser')) {\n          let _userDetails = localStorage.getItem(_key);\n          if (_userDetails) {\n            _userDetails = JSON.parse(_userDetails);\n            this.userList.push(_userDetails);\n          }\n        }\n      }\n      console.log(this.userList);\n    }\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"container mx-auto\", 4, \"ngIf\"], [1, \"container\", \"mx-auto\"], [1, \"flex\", \"justify-center\", \"items-center\", 2, \"height\", \"99dvh\"], [1, \"card\", \"lg:card-side\", \"bg-base-100\", \"shadow-xl\"], [\"src\", \"assets/images/icon.png\", \"alt\", \"Album\", 2, \"height\", \"500px !important\"], [1, \"card-body\"], [1, \"card-title\", \"font-extrabold\"], [1, \"input\", \"input-bordered\", \"flex\", \"items-center\", \"gap-2\", \"mt-10\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 16 16\", \"fill\", \"currentColor\", 1, \"h-4\", \"w-4\", \"opacity-70\"], [\"d\", \"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\"], [\"type\", \"text\", \"placeholder\", \"Email\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"flex-col\"], [1, \"input\", \"input-bordered\", \"flex\", \"items-center\", \"gap-2\"], [\"fill-rule\", \"evenodd\", \"d\", \"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z\", \"clip-rule\", \"evenodd\"], [\"type\", \"password\", \"value\", \"\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"], [1, \"card-actions\", \"justify-center\", \"mt-10\"], [1, \"btn\", \"btn-success\", \"text-white\", 3, \"click\"], [1, \"btn\", \"btn-primary\", \"text-white\", 3, \"click\"], [\"src\", \"https://img.daisyui.com/images/stock/photo-1494232410401-ad00d5433cfa.webp\", \"alt\", \"Album\"], [2, \"cursor\", \"pointer\", \"color\", \"red\", 3, \"click\"], [1, \"input\", \"input-bordered\", \"flex\", \"items-center\", \"gap-2\", \"mt-4\"], [\"type\", \"text\", \"placeholder\", \"First Name\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Last Name\", \"required\", \"\", 1, \"grow\", 3, \"ngModel\", \"ngModelChange\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, LoginComponent_div_0_Template, 25, 2, \"div\", 0);\n          i0.ɵɵtemplate(1, LoginComponent_div_1_Template, 24, 4, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isExistingUser);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isExistingUser);\n        }\n      },\n      dependencies: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.RequiredValidator, i4.NgModel],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["LoginDetails","NewUser","i0","LoginComponent","constructor","_authServices","_router","ngOnInit","getUserList","loginIn","userList","length","i","EmailAddress","toLowerCase","loginDetails","UserName","Password","localStorage","setItem","JSON","stringify","navigate","alert","isExistingUser","createNewUser","_date","Date","newUser","FirstName","LastName","_userList","_key","key","includes","_userDetails","getItem","parse","push","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Porjects Git Repo\\clg-pro-web-app\\src\\app\\@core\\components\\login\\login.component.ts","D:\\Porjects Git Repo\\clg-pro-web-app\\src\\app\\@core\\components\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { LoginDetails } from 'src/app/shared/modals/login';\r\nimport { Router } from '@angular/router';\r\nimport { NewUser } from 'src/app/shared/modals/NewUser';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  constructor(\r\n    private _authServices: AuthService,\r\n    private _router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getUserList();\r\n  }\r\n\r\n  loginDetails: LoginDetails = new LoginDetails();\r\n  isExistingUser: boolean = true;\r\n  loginIn() {\r\n    if (this.userList.length) {\r\n      for (let i = 0; i < this.userList.length; i++) {\r\n        if (this.userList[i].EmailAddress.toLowerCase() == this.loginDetails.UserName.toLowerCase() && this.userList[i].Password == this.loginDetails.Password) {\r\n          localStorage.setItem('user', JSON.stringify(this.userList[i]))\r\n          this._router.navigate(['dashboard'])\r\n        };\r\n      }\r\n    } else {\r\n      alert('Please create user first.')\r\n      this.isExistingUser = false;\r\n    }\r\n  }\r\n\r\n  newUser: NewUser = new NewUser();\r\n  createNewUser() {\r\n    let _date = new Date();\r\n    if (!this.newUser.FirstName) {\r\n      alert('Please enter firstname!')\r\n      return null;\r\n    }\r\n    if (!this.newUser.LastName) {\r\n      alert('Please enter lastname!')\r\n      return null;\r\n    }\r\n    if (!this.newUser.EmailAddress) {\r\n      alert('Please enter email address!')\r\n      return null;\r\n    }\r\n    if (!this.newUser.Password) {\r\n      alert('Please enter password!')\r\n      return null;\r\n    }\r\n    if (this.newUser.FirstName && this.newUser.LastName && this.newUser.EmailAddress && this.newUser.Password) {\r\n      localStorage.setItem('createdUser_' + _date, JSON.stringify(this.newUser));\r\n      this.isExistingUser = false;\r\n      this.getUserList()\r\n      alert('User has been created, Please login now.')\r\n      return null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  userList: NewUser[] = []\r\n  getUserList() {\r\n    let _userList = localStorage;\r\n    if (_userList.length) {\r\n      debugger\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        let _key = localStorage.key(i);\r\n        if (_key?.toLowerCase().includes('createduser')) {\r\n          let _userDetails: any = localStorage.getItem(_key);\r\n          if (_userDetails) {\r\n            _userDetails = JSON.parse(_userDetails);\r\n            this.userList.push(_userDetails);\r\n          }\r\n        }\r\n      }\r\n      console.log(this.userList);\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container mx-auto\" *ngIf=\"isExistingUser\">\r\n  <div class=\"flex justify-center items-center\" style=\"height: 99dvh;\">\r\n    <div class=\"card lg:card-side bg-base-100 shadow-xl\">\r\n      <figure>\r\n        <img src=\"assets/images/icon.png\" style=\"height: 500px !important;\" alt=\"Album\" />\r\n      </figure>\r\n      <div class=\"card-body\">\r\n        <h2 class=\"card-title font-extrabold\">Login</h2>\r\n        <label class=\"input input-bordered flex items-center gap-2 mt-10\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\r\n            <path\r\n              d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\" />\r\n          </svg>\r\n          <input type=\"text\" class=\"grow\" placeholder=\"Email\" [(ngModel)]=\"loginDetails.UserName\" required />\r\n        </label>\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"input input-bordered flex items-center gap-2\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\r\n              <path fill-rule=\"evenodd\"\r\n                d=\"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z\"\r\n                clip-rule=\"evenodd\" />\r\n            </svg>\r\n            <input type=\"password\" class=\"grow\" value=\"\" placeholder=\"Password\" [(ngModel)]=\"loginDetails.Password\"\r\n              required />\r\n          </label>\r\n        </div>\r\n        <div class=\"card-actions justify-center mt-10\">\r\n          <button class=\"btn btn-success text-white\" (click)=\"loginIn()\"><strong>Login</strong></button>\r\n        </div>\r\n        <div class=\"card-actions justify-center mt-10\">\r\n          <button class=\"btn btn-primary text-white\" (click)=\"isExistingUser = false\"><strong>Create New\r\n              User</strong></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"container mx-auto\" *ngIf=\"!isExistingUser\">\r\n  <div class=\"flex justify-center items-center\" style=\"height: 99dvh;\">\r\n    <div class=\"card lg:card-side bg-base-100 shadow-xl\">\r\n      <figure>\r\n        <img src=\"https://img.daisyui.com/images/stock/photo-1494232410401-ad00d5433cfa.webp\" alt=\"Album\" />\r\n      </figure>\r\n      <div class=\"card-body\">\r\n        <div class=\"flex flex-col\">\r\n          <a (click)=\"isExistingUser = true\" style=\"cursor: pointer; color: red;\">Back to Login</a>\r\n          <h2 class=\"card-title font-extrabold\">Create New User</h2>\r\n        </div>\r\n        <label class=\"input input-bordered flex items-center gap-2 mt-4\">\r\n          <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\r\n            <path\r\n              d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\" />\r\n          </svg> -->\r\n          <input type=\"text\" class=\"grow\" placeholder=\"First Name\" [(ngModel)]=\"newUser.FirstName\" required />\r\n        </label>\r\n        <label class=\"input input-bordered flex items-center gap-2 mt-4\">\r\n          <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\r\n            <path\r\n              d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\" />\r\n          </svg> -->\r\n          <input type=\"text\" class=\"grow\" placeholder=\"Last Name\" [(ngModel)]=\"newUser.LastName\" required />\r\n        </label>\r\n        <label class=\"input input-bordered flex items-center gap-2 mt-4\">\r\n          <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\r\n            <path\r\n              d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\" />\r\n          </svg> -->\r\n          <input type=\"text\" class=\"grow\" placeholder=\"Email\" [(ngModel)]=\"newUser.EmailAddress\" required />\r\n        </label>\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"input input-bordered flex items-center gap-2\">\r\n            <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class=\"h-4 w-4 opacity-70\">\r\n              <path fill-rule=\"evenodd\"\r\n                d=\"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z\"\r\n                clip-rule=\"evenodd\" />\r\n            </svg> -->\r\n            <input type=\"password\" class=\"grow\" value=\"\" placeholder=\"Password\" [(ngModel)]=\"newUser.Password\"\r\n              required />\r\n          </label>\r\n        </div>\r\n        <div class=\"card-actions justify-center mt-10\">\r\n          <button class=\"btn btn-success text-white\" (click)=\"createNewUser()\"><strong>Create</strong></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}